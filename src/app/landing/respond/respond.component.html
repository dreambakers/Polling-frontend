<div class="container h-100">
    <div class="row h-100 justify-content-center align-items-center">
        <div class="col-lg-10 col-xl-9 mx-auto pb-1">
            <app-recorded
                *ngIf="responded; else responseFormContainer"
                [messageKey]="getMessageKey()"
                (onBackToPoll)="onSubmit()">
            </app-recorded>

            <ng-template #responseFormContainer>
                <div class="card card-signin flex-row my-1">
                    <div class="card-img-left d-none d-md-flex flex-column align-items-center justify-content-center">
                        <mat-icon style="font-size: 5.5rem; height: 15%;" class="w-100 text-center">poll</mat-icon>
                        <h4>
                            {{ 'labels.polling' | translate }}
                        </h4>
                    </div>
                    <div class="card-body d-flex flex-column align-items-center justify-content-center">
                        <h5 class="card-title text-center mt-5">
                            {{ 'labels.respond' | translate }}
                        </h5>

                        <form class="form-signin" [formGroup]="responseForm" (ngSubmit)="onSubmit()"
                            class="d-flex flex-column align-items-center justify-content-center form-signin">

                            <div class="form-group w-100">
                                <label>{{ 'labels.pollId' | translate }}</label>

                                <input type="email" class="form-control" formControlName="pollId"
                                    [ngClass]="{ 'is-invalid': submitted && f.pollId.errors }" placeholder="Poll ID"
                                    required>

                                <div *ngIf="submitted && f.pollId.errors" class="invalid-feedback">
                                    <div *ngIf="f.pollId.errors.required">{{ 'messages.pollIdRequired' | translate }}</div>
                                    <div *ngIf="f.pollId.errors.pattern">{{ 'messages.provideValidPollId' | translate }}</div>
                                </div>
                            </div>

                            <hr>
                            <button class="btn btn-lg btn-primary btn-block text-uppercase" type="submit">
                                {{ 'labels.goToPoll' | translate }}
                            </button>
                        </form>

                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</div>